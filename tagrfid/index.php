<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url(https://themes.googleusercontent.com/fonts/css?kit=mrl8jkM18OlOQN8JLgasDznBIlqCihZp0p_Rvd-RRMo);.lst-kix_bmq33ue784tz-6>li:before{content:"\0025cf   "}.lst-kix_bmq33ue784tz-7>li:before{content:"\0025cb   "}.lst-kix_bmq33ue784tz-4>li:before{content:"\0025cb   "}.lst-kix_bmq33ue784tz-8>li:before{content:"\0025a0   "}.lst-kix_bmq33ue784tz-5>li:before{content:"\0025a0   "}ul.lst-kix_z26nngvmgyjq-8{list-style-type:none}.lst-kix_bmq33ue784tz-0>li:before{content:"\0025cf   "}.lst-kix_bmq33ue784tz-2>li:before{content:"\0025a0   "}.lst-kix_bmq33ue784tz-3>li:before{content:"\0025cf   "}.lst-kix_bmq33ue784tz-1>li:before{content:"\0025cb   "}ul.lst-kix_bmq33ue784tz-1{list-style-type:none}ul.lst-kix_bmq33ue784tz-0{list-style-type:none}.lst-kix_1kuqfnx3ypuv-0>li:before{content:"\0025cf   "}ul.lst-kix_bmq33ue784tz-5{list-style-type:none}.lst-kix_1kuqfnx3ypuv-1>li:before{content:"\0025cb   "}ul.lst-kix_bmq33ue784tz-4{list-style-type:none}ul.lst-kix_bmq33ue784tz-3{list-style-type:none}ul.lst-kix_bmq33ue784tz-2{list-style-type:none}.lst-kix_1kuqfnx3ypuv-3>li:before{content:"\0025cf   "}ul.lst-kix_twq21a1drwda-6{list-style-type:none}ul.lst-kix_bmq33ue784tz-8{list-style-type:none}ul.lst-kix_twq21a1drwda-7{list-style-type:none}ul.lst-kix_bmq33ue784tz-7{list-style-type:none}.lst-kix_1kuqfnx3ypuv-2>li:before{content:"\0025a0   "}.lst-kix_1kuqfnx3ypuv-4>li:before{content:"\0025cb   "}ul.lst-kix_twq21a1drwda-4{list-style-type:none}ul.lst-kix_bmq33ue784tz-6{list-style-type:none}ul.lst-kix_twq21a1drwda-5{list-style-type:none}ul.lst-kix_twq21a1drwda-2{list-style-type:none}ul.lst-kix_twq21a1drwda-3{list-style-type:none}ul.lst-kix_twq21a1drwda-0{list-style-type:none}ul.lst-kix_twq21a1drwda-1{list-style-type:none}.lst-kix_1kuqfnx3ypuv-7>li:before{content:"\0025cb   "}.lst-kix_1kuqfnx3ypuv-6>li:before{content:"\0025cf   "}.lst-kix_1kuqfnx3ypuv-5>li:before{content:"\0025a0   "}.lst-kix_1kuqfnx3ypuv-8>li:before{content:"\0025a0   "}ul.lst-kix_twq21a1drwda-8{list-style-type:none}.lst-kix_z26nngvmgyjq-3>li:before{content:"\0025cf   "}.lst-kix_twq21a1drwda-7>li:before{content:"\0025cb   "}.lst-kix_twq21a1drwda-6>li:before{content:"\0025cf   "}.lst-kix_z26nngvmgyjq-2>li:before{content:"\0025a0   "}.lst-kix_z26nngvmgyjq-4>li:before{content:"\0025cb   "}.lst-kix_twq21a1drwda-5>li:before{content:"\0025a0   "}.lst-kix_twq21a1drwda-8>li:before{content:"\0025a0   "}.lst-kix_twq21a1drwda-3>li:before{content:"\0025cf   "}.lst-kix_z26nngvmgyjq-7>li:before{content:"\0025cb   "}.lst-kix_twq21a1drwda-2>li:before{content:"\0025a0   "}.lst-kix_twq21a1drwda-4>li:before{content:"\0025cb   "}.lst-kix_z26nngvmgyjq-0>li:before{content:"\0025cf   "}.lst-kix_z26nngvmgyjq-8>li:before{content:"\0025a0   "}.lst-kix_z26nngvmgyjq-1>li:before{content:"\0025cb   "}ul.lst-kix_cgg08mp425xg-1{list-style-type:none}ul.lst-kix_cgg08mp425xg-2{list-style-type:none}ul.lst-kix_cgg08mp425xg-3{list-style-type:none}.lst-kix_twq21a1drwda-0>li:before{content:"\0025cf   "}ul.lst-kix_cgg08mp425xg-4{list-style-type:none}ul.lst-kix_cgg08mp425xg-5{list-style-type:none}ul.lst-kix_1kuqfnx3ypuv-8{list-style-type:none}.lst-kix_twq21a1drwda-1>li:before{content:"\0025cb   "}ul.lst-kix_cgg08mp425xg-6{list-style-type:none}ul.lst-kix_cgg08mp425xg-7{list-style-type:none}ul.lst-kix_cgg08mp425xg-8{list-style-type:none}ul.lst-kix_1kuqfnx3ypuv-4{list-style-type:none}ul.lst-kix_1kuqfnx3ypuv-5{list-style-type:none}ul.lst-kix_1kuqfnx3ypuv-6{list-style-type:none}.lst-kix_z26nngvmgyjq-6>li:before{content:"\0025cf   "}ul.lst-kix_1kuqfnx3ypuv-7{list-style-type:none}ul.lst-kix_1kuqfnx3ypuv-0{list-style-type:none}.lst-kix_z26nngvmgyjq-5>li:before{content:"\0025a0   "}ul.lst-kix_1kuqfnx3ypuv-1{list-style-type:none}ul.lst-kix_1kuqfnx3ypuv-2{list-style-type:none}ul.lst-kix_cgg08mp425xg-0{list-style-type:none}ul.lst-kix_1kuqfnx3ypuv-3{list-style-type:none}.lst-kix_cgg08mp425xg-4>li:before{content:"\0025cb   "}.lst-kix_cgg08mp425xg-3>li:before{content:"\0025cf   "}.lst-kix_cgg08mp425xg-5>li:before{content:"\0025a0   "}.lst-kix_cgg08mp425xg-0>li:before{content:"\0025cf   "}.lst-kix_cgg08mp425xg-8>li:before{content:"\0025a0   "}.lst-kix_cgg08mp425xg-1>li:before{content:"\0025cb   "}.lst-kix_cgg08mp425xg-2>li:before{content:"\0025a0   "}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}ul.lst-kix_z26nngvmgyjq-6{list-style-type:none}ul.lst-kix_z26nngvmgyjq-7{list-style-type:none}ul.lst-kix_z26nngvmgyjq-4{list-style-type:none}ul.lst-kix_z26nngvmgyjq-5{list-style-type:none}ul.lst-kix_z26nngvmgyjq-2{list-style-type:none}ul.lst-kix_z26nngvmgyjq-3{list-style-type:none}ul.lst-kix_z26nngvmgyjq-0{list-style-type:none}ul.lst-kix_z26nngvmgyjq-1{list-style-type:none}.lst-kix_cgg08mp425xg-7>li:before{content:"\0025cb   "}.lst-kix_cgg08mp425xg-6>li:before{content:"\0025cf   "}ol{margin:0;padding:0}table td,table th{padding:0}.c10{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:150.5pt;border-top-color:#000000;border-bottom-style:solid}.c2{margin-left:36pt;padding-top:0pt;padding-left:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c1{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left;height:11pt}.c20{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"Arial";font-style:normal}.c25{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:20pt;font-family:"Arial";font-style:normal}.c19{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10pt;font-family:"Arial";font-style:normal}.c0{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c18{padding-top:18pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c7{background-color:#f3f3f3;color:#000000;text-decoration:none;vertical-align:baseline;font-size:11pt;font-style:normal}.c3{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c8{color:#000000;text-decoration:none;vertical-align:baseline;font-size:11pt;font-style:normal}.c24{padding-top:20pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;text-align:left}.c6{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c14{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline}.c26{border-spacing:0;border-collapse:collapse;margin-right:auto}.c21{background-color:#ffffff;max-width:451.4pt;padding:72pt 72pt 72pt 72pt}.c5{padding:0;margin:0}.c22{orphans:2;widows:2}.c12{font-weight:700;font-family:"Arial"}.c4{font-weight:400;font-family:"Source Code Pro"}.c17{margin-left:72pt;padding-left:0pt}.c16{color:inherit;text-decoration:inherit}.c11{width:33%;height:1px}.c23{background-color:#f3f3f3}.c9{font-style:italic}.c13{text-indent:36pt}.c15{height:0pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c21 doc-content"><h1 class="c22 c24" id="h.2a95sbjbmzv0"><span class="c25">Specifiche Servizio REST per la comunicazione con i tag RFID</span></h1><p class="c1"><span class="c0"></span></p><p class="c3"><span class="c0">Il gestionale &lsquo;Sanbapolis&rsquo; per trattare la questione dati generati dai tag RFID metter&agrave; a disposizione un servizio web di tipo rest.</span></p><p class="c1"><span class="c0"></span></p><p class="c3"><span class="c0">Il servizio supporter&agrave; le operazioni CRUD, per questo il sito avr&agrave; 4 API</span></p><p class="c1"><span class="c0"></span></p><a id="t.f71b6776382f0e943d8e964541c3bcab311db881"></a><a id="t.0"></a><table class="c26"><tr class="c15"><td class="c10" colspan="1" rowspan="1"><p class="c6"><span class="c8 c12">Metodo</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c6"><span class="c8 c12">File</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c6"><span class="c8 c12">Servizio</span></p></td></tr><tr class="c15"><td class="c10" colspan="1" rowspan="1"><p class="c6"><span class="c0">POST</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c6"><span class="c8 c4">create.php</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c6"><span class="c0">Inserimento nuovi dati</span></p></td></tr><tr class="c15"><td class="c10" colspan="1" rowspan="1"><p class="c6"><span class="c0">GET</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c6"><span class="c8 c4">read.php</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c6"><span class="c0">Lettura</span></p></td></tr><tr class="c15"><td class="c10" colspan="1" rowspan="1"><p class="c6"><span class="c0">POST</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c6"><span class="c8 c4">query.php</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c6"><span class="c0">Modifiche</span></p></td></tr><tr class="c15"><td class="c10" colspan="1" rowspan="1"><p class="c6"><span class="c0">DELETE</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c6"><span class="c8 c4">delete.php</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c6"><span class="c0">Eliminazione</span></p></td></tr></table><p class="c1"><span class="c0"></span></p><p class="c3"><span>i file si troveranno nella cartella </span><span class="c4 c8">&lsquo;/tagrfid/api/&rsquo;</span></p><h2 class="c18" id="h.z9m1l1fwqh1b"><span class="c20">CREATE</span></h2><p class="c3"><span class="c0">L&rsquo;inserimento di nuovi dati verr&agrave; effettuato con una richiesta POST a http://&hellip;/sanbapolis/tagrfid/api/create.php</span></p><p class="c1"><span class="c0"></span></p><p class="c3"><span>I dati da inserire si troveranno in un file che &egrave; gi&agrave; presente nel web server sotto forma di file csv nella cartella </span><span class="c4">&lsquo;./tagrfid/csv&rsquo;</span><span class="c0">.</span></p><p class="c3"><span>Il file relativo ad una sessione di registrazione avr&agrave; nome </span><span class="c4">#sessione di registrazione.csv</span><span>&nbsp;(</span><span class="c9">e.g.</span><span>&nbsp;</span><span class="c4">236.csv</span><span class="c0">&nbsp;- relativo alla sessione 236)</span></p><p class="c1"><span class="c0"></span></p><p class="c3"><span class="c0">Nella richiesta POST saranno specificati:</span></p><ul class="c5 lst-kix_z26nngvmgyjq-0 start"><li class="c2 li-bullet-0"><span>Credenziali d&rsquo;accesso via </span><span class="c14"><a class="c16" href="https://www.google.com/url?q=https://it.wikipedia.org/wiki/Basic_access_authentication&amp;sa=D&amp;source=editors&amp;ust=1694623309845798&amp;usg=AOvVaw1IhDe_SSzMCtAQsxazKi5Y">Basic access authentication</a></span></li></ul><ul class="c5 lst-kix_z26nngvmgyjq-1 start"><li class="c3 c17 li-bullet-0"><span class="c0">Email</span></li><li class="c3 c17 li-bullet-0"><span class="c0">Password</span></li></ul><ul class="c5 lst-kix_z26nngvmgyjq-0"><li class="c2 li-bullet-0"><span class="c0">Come multipart/form-data</span></li></ul><ul class="c5 lst-kix_z26nngvmgyjq-1 start"><li class="c3 c17 li-bullet-0"><span class="c0">Numero di sessione</span></li><li class="c3 c17 li-bullet-0"><span class="c0">Nome della misurazione</span></li><li class="c3 c17 li-bullet-0"><span class="c0">Nome del file</span></li></ul><ul class="c5 lst-kix_z26nngvmgyjq-0"><li class="c2 li-bullet-0"><span class="c0">Come parametri della richiesta:</span></li></ul><ul class="c5 lst-kix_z26nngvmgyjq-1 start"><li class="c3 c17 li-bullet-0"><span class="c0">Numero di sessione</span></li><li class="c3 c17 li-bullet-0"><span>Precisione del timing</span><sup><a href="#ftnt1" id="ftnt_ref1">[1]</a></sup></li><li class="c3 c17 li-bullet-0"><span>Esempio: </span><span class="c4">/tagrfid/api/create.php?session=1&amp;precision=s</span></li></ul><p class="c3"><span>Esempio di richiesta HTTP a </span><span class="c4">create.php</span><span>&nbsp;inviata tramite </span><span class="c14"><a class="c16" href="https://www.google.com/url?q=https://insomnia.rest/&amp;sa=D&amp;source=editors&amp;ust=1694623309847524&amp;usg=AOvVaw2lZX5sLbmn31DFIU3IiY1n">Insomnia</a></span><span class="c0">:</span></p><p class="c1"><span class="c0"></span></p><p class="c3"><span class="c7 c4">POST /tagrfid/api/create.php?session=1&amp;precision=s HTTP/1.1</span></p><p class="c3"><span class="c7 c4">Cookie: PHPSESSID=lidmhhbj6bp1tte8mmouvgug6h</span></p><p class="c3"><span class="c7 c4">Content-Type: multipart/form-data; boundary=---011000010111000001101001</span></p><p class="c3"><span class="c7 c4">User-Agent: Insomnia/2023.5.7</span></p><p class="c3"><span class="c7 c4">Authorization: Basic dmluY2Vuem8uaXRhbGlhbm9AZ21haWwuY29tOnZpbmNlbnpv</span></p><p class="c3"><span class="c7 c4">Host: localhost</span></p><p class="c3"><span class="c7 c4">Content-Length: 225</span></p><p class="c1"><span class="c7 c4"></span></p><p class="c3"><span class="c7 c4">-----011000010111000001101001</span></p><p class="c3"><span class="c7 c4">Content-Disposition: form-data; name=&quot;filename&quot;</span></p><p class="c1"><span class="c7 c4"></span></p><p class="c3"><span class="c7 c4">example.csv</span></p><p class="c3"><span class="c7 c4">-----011000010111000001101001</span></p><p class="c3"><span class="c7 c4">Content-Disposition: form-data; name=&quot;measurment&quot;</span></p><p class="c1"><span class="c7 c4"></span></p><p class="c3"><span class="c7 c4">coordinates</span></p><p class="c3"><span class="c4 c23">-----011000010111000001101001--</span></p><p class="c1"><span class="c0"></span></p><h2 class="c18" id="h.qsxqbdor9wbg"><span class="c20">READ</span></h2><p class="c3"><span>La </span><span class="c4">read.php</span><span class="c0">&nbsp;permette di effettuare richieste ad InfluxDb tramite SQL.</span></p><p class="c3"><span class="c0">La richiesta va effettuata tramite metodo GET; specificando:</span></p><ul class="c5 lst-kix_1kuqfnx3ypuv-0 start"><li class="c2 li-bullet-0"><span>Credenziali d&rsquo;accesso via </span><span class="c14"><a class="c16" href="https://www.google.com/url?q=https://it.wikipedia.org/wiki/Basic_access_authentication&amp;sa=D&amp;source=editors&amp;ust=1694623309850935&amp;usg=AOvVaw17SNLPGQ0UvEpj2nfIxdm5">Basic access authentication</a></span></li></ul><ul class="c5 lst-kix_1kuqfnx3ypuv-1 start"><li class="c3 c17 li-bullet-0"><span class="c0">Email</span></li><li class="c3 c17 li-bullet-0"><span class="c0">Password</span></li></ul><ul class="c5 lst-kix_1kuqfnx3ypuv-0"><li class="c2 li-bullet-0"><span class="c0">Come parametri della richiesta:</span></li></ul><ul class="c5 lst-kix_1kuqfnx3ypuv-1 start"><li class="c3 c17 li-bullet-0"><span class="c0">Numero di sessione di registrazione</span></li><li class="c3 c17 li-bullet-0"><span>La query SQL (</span><span class="c9">e.g.</span><span>&nbsp;query: </span><span class="c4">SELECT * FROM home</span><span class="c0">)</span></li></ul><p class="c3"><span>Esempio: </span><span class="c4">/tagrfid/api/read.php?session=1&amp;query=SELECT%20*%20FROM%20home</span></p><p class="c1"><span class="c0"></span></p><p class="c3"><span>La risposta viene fornita in formato </span><span class="c14"><a class="c16" href="https://www.google.com/url?q=https://it.wikipedia.org/wiki/JavaScript_Object_Notation&amp;sa=D&amp;source=editors&amp;ust=1694623309852965&amp;usg=AOvVaw0Qi6BKjE-dm_TvUUEHMuYO">JSON</a></span><span class="c0">; la risposta comprende:</span></p><ul class="c5 lst-kix_twq21a1drwda-0 start"><li class="c2 li-bullet-0"><span class="c0">Un valore booleano che indica o meno il successo della richiesta</span></li><li class="c2 li-bullet-0"><span class="c0">Il risultato anch&rsquo;esso restituito come stringa, formattato in JSON</span></li></ul><p class="c1"><span class="c0"></span></p><hr style="page-break-before:always;display:none;"><p class="c1"><span class="c0"></span></p><p class="c3"><span class="c0">Esempio di risposta:</span></p><p class="c3"><span class="c7 c4">{</span></p><p class="c3 c13"><span class="c7 c4">&quot;success&quot;: true,</span></p><p class="c3 c13"><span class="c4 c23">&quot;results&quot;: {\&quot;results\&quot;:[{\&quot;statement_id\&quot;:0,\&quot;series\&quot;:[{\&quot;name\&quot;:\&quot;home\&quot;,\&quot;columns\&quot;:[\&quot;time\&quot;,\&quot;co\&quot;,\&quot;hum\&quot;,\&quot;room\&quot;,\&quot;temp\&quot;],\&quot;values\&quot;:[[\&quot;1970-01-01T00:00:01.641024Z\&quot;,0,35.9,\&quot;Kitchen\&quot;,21]]}]}]}\n&quot;}</span></p><h2 class="c18" id="h.pa810jr1bzug"><span class="c20">UPDATE</span></h2><p class="c1"><span class="c0"></span></p><p class="c3"><span>L&rsquo;update &egrave; stato implementato tramite </span><span class="c4">query.php</span><span>. La richiesta a questa API permette di effettuare una richiesta a InfluxDb in linguaggio </span><span class="c14"><a class="c16" href="https://www.google.com/url?q=https://docs.influxdata.com/influxdb/cloud/query-data/get-started/&amp;sa=D&amp;source=editors&amp;ust=1694623309854724&amp;usg=AOvVaw0uy8JX5dwL4fyoSkDcE3_y">Flux</a></span><span class="c0">.</span></p><p class="c1"><span class="c0"></span></p><p class="c3"><span class="c0">La richiesta, con metodo GET, deve essere composta specificando:</span></p><ul class="c5 lst-kix_1kuqfnx3ypuv-0"><li class="c2 li-bullet-0"><span>Credenziali d&rsquo;accesso via </span><span class="c14"><a class="c16" href="https://www.google.com/url?q=https://it.wikipedia.org/wiki/Basic_access_authentication&amp;sa=D&amp;source=editors&amp;ust=1694623309855560&amp;usg=AOvVaw0IzVy-SlwX9M33vZWHVWn-">Basic access authentication</a></span></li></ul><ul class="c5 lst-kix_1kuqfnx3ypuv-1 start"><li class="c3 c17 li-bullet-0"><span class="c0">Email</span></li><li class="c3 c17 li-bullet-0"><span class="c0">Password</span></li></ul><ul class="c5 lst-kix_1kuqfnx3ypuv-0"><li class="c2 li-bullet-0"><span class="c0">Come parametro della richiesta</span></li></ul><ul class="c5 lst-kix_1kuqfnx3ypuv-1 start"><li class="c3 c17 li-bullet-0"><span class="c0">Il numero di sessione di registrazione</span></li><li class="c3 c17 li-bullet-0"><span>Esempio: </span><span class="c8 c4">/tagrfid/api/query.php?session=1</span></li></ul><ul class="c5 lst-kix_1kuqfnx3ypuv-0"><li class="c2 li-bullet-0"><span class="c0">Come body della richiesta, sotto forma di plain/text</span></li></ul><ul class="c5 lst-kix_1kuqfnx3ypuv-1 start"><li class="c3 c17 li-bullet-0"><span class="c0">Il codice flux per la query</span></li></ul><p class="c1"><span class="c0"></span></p><p class="c3"><span>Esempio di richiesta HTTP a </span><span class="c4">query.php</span><span>&nbsp;inviata tramite </span><span class="c14"><a class="c16" href="https://www.google.com/url?q=https://insomnia.rest/&amp;sa=D&amp;source=editors&amp;ust=1694623309857311&amp;usg=AOvVaw2lz-Nisiz1oKJNpI4B1vqn">Insomnia</a></span><span class="c0">:</span></p><p class="c1"><span class="c0"></span></p><p class="c3"><span class="c7 c4">POST /tagrfid/api/query.php?session=1 HTTP/1.1</span></p><p class="c3"><span class="c7 c4">Cookie: PHPSESSID=lidmhhbj6bp1tte8mmouvgug6h</span></p><p class="c3"><span class="c7 c4">Content-Type: text/plain</span></p><p class="c3"><span class="c7 c4">User-Agent: insomnia/2023.5.8</span></p><p class="c3"><span class="c7 c4">Authorization: Basic dmluY2Vuem8uaXRhbGlhbm9AZ21haWwuY29tOnZpbmNlbnpv</span></p><p class="c3"><span class="c7 c4">Host: localhost</span></p><p class="c3"><span class="c7 c4">Content-Length: 147</span></p><p class="c1"><span class="c7 c4"></span></p><p class="c3"><span class="c7 c4">from(bucket: &quot;get-started&quot;) |&gt; range(start: 2020-01-01T08:00:00Z, stop: 2024-01-01T20:00:01Z) |&gt; filter(fn: (r) =&gt; r._measurement == &quot;coordinates&quot;)</span></p><p class="c1"><span class="c0"></span></p><p class="c3"><span>La risposta, come per la </span><span class="c4">read.php</span><span>, viene restituita in formato JSON, tuttavia i dati di risposta sono formattati come </span><span class="c14"><a class="c16" href="https://www.google.com/url?q=https://it.wikipedia.org/wiki/Comma-separated_values&amp;sa=D&amp;source=editors&amp;ust=1694623309859541&amp;usg=AOvVaw2qmxW2vPJBG6_nYAxZSTzw">CSV</a></span><span class="c0">.</span></p><hr style="page-break-before:always;display:none;"><p class="c1"><span class="c0"></span></p><p class="c3"><span class="c0">Esempio di risposta:</span></p><p class="c3"><span class="c7 c4">{</span></p><p class="c3"><span class="c4 c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;success&quot;: true,</span></p><p class="c3"><span class="c7 c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;results&quot;: &quot;,result,table,_start,_stop,_time,_value,_field,_measurement,tag_id\r\n,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_result,0,2020-01-01T08:00:00Z,2024-01-01T20:00:01Z,2023-08-04T00:16:47Z,-11.99449869227957,x_kf,coordinates,100\r\n,&quot;</span></p><p class="c3"><span class="c7 c4">}</span></p><p class="c1"><span class="c0"></span></p><p class="c3"><span class="c0">Dati di risposta, relative alla chiave &ldquo;results&rdquo;:</span></p><p class="c3"><span class="c7 c4">,result,table,_start,_stop,_time,_value,_field,_measurement,tag_id</span></p><p class="c3"><span class="c7 c4">,_result,0,2020-01-01T08:00:00Z,2024-01-01T20:00:01Z,2023-08-04T00:16:47Z,-11.99449869227957,x_kf,coordinates,100</span></p><p class="c1"><span class="c7 c4"></span></p><p class="c3"><span>L&rsquo;esempio riportato &egrave; relativo ad una query che estrae i dati dal database, il che si poteva fare anche tramite </span><span class="c4">read.php</span><span class="c0">.</span></p><p class="c3 c13"><span>Tuttavia il senso di </span><span class="c4">query.php</span><span>&nbsp;&egrave; quello di permettere di sfruttare a pieno le potenzialit&agrave; del codice flux per la manipolazione dei dati, incluse modifiche.</span></p><h2 class="c18" id="h.8nmqrkkhizq9"><span class="c20">DELETE</span></h2><p class="c3"><span>L&rsquo;eliminazione di file si effettua tramite la richiesta, con metodo DELETE, a </span><span class="c4">delete.php</span><span class="c0">.</span></p><p class="c3"><span class="c0">Nella richiesta vanno specificati:</span></p><ul class="c5 lst-kix_1kuqfnx3ypuv-0"><li class="c2 li-bullet-0"><span>Credenziali d&rsquo;accesso via </span><span class="c14"><a class="c16" href="https://www.google.com/url?q=https://it.wikipedia.org/wiki/Basic_access_authentication&amp;sa=D&amp;source=editors&amp;ust=1694623309863220&amp;usg=AOvVaw1jOYYJhJUL2OAyYtN5XqDK">Basic access authentication</a></span></li></ul><ul class="c5 lst-kix_1kuqfnx3ypuv-1 start"><li class="c3 c17 li-bullet-0"><span class="c0">Email</span></li><li class="c3 c17 li-bullet-0"><span class="c0">Password</span></li></ul><ul class="c5 lst-kix_1kuqfnx3ypuv-0"><li class="c2 li-bullet-0"><span class="c0">Come parametro della richiesta</span></li></ul><ul class="c5 lst-kix_1kuqfnx3ypuv-1 start"><li class="c3 c17 li-bullet-0"><span class="c0">Il numero di sessione di registrazione</span></li><li class="c3 c17 li-bullet-0"><span>Esempio: </span><span class="c8 c4">/tagrfid/api/query.php?session=1</span></li></ul><ul class="c5 lst-kix_1kuqfnx3ypuv-0"><li class="c2 li-bullet-0"><span>Come body della richiesta, come </span><span class="c4">application/json</span><span class="c0">, i parametri per l&rsquo;eliminazione scritti appunto in formato JSON</span></li></ul><p class="c1"><span class="c0"></span></p><hr style="page-break-before:always;display:none;"><p class="c1"><span class="c0"></span></p><p class="c3"><span>Esempio di richiesta HTTP a </span><span class="c4">delete.php</span><span>&nbsp;inviata tramite </span><span class="c14"><a class="c16" href="https://www.google.com/url?q=https://insomnia.rest/&amp;sa=D&amp;source=editors&amp;ust=1694623309865148&amp;usg=AOvVaw0V6mBsbzdobApA5pWnUD4b">Insomnia</a></span><span class="c0">:</span></p><p class="c1"><span class="c0"></span></p><p class="c3"><span class="c7 c4">DELETE /tagrfid/api/delete.php?session=1 HTTP/1.1</span></p><p class="c3"><span class="c7 c4">Cookie: PHPSESSID=lidmhhbj6bp1tte8mmouvgug6h</span></p><p class="c3"><span class="c7 c4">Content-Type: application/json</span></p><p class="c3"><span class="c7 c4">User-Agent: insomnia/2023.5.8</span></p><p class="c3"><span class="c7 c4">Authorization: Basic dmluY2Vuem8uaXRhbGlhbm9AZ21haWwuY29tOnZpbmNlbnpv</span></p><p class="c3"><span class="c7 c4">Host: localhost</span></p><p class="c3"><span class="c7 c4">Content-Length: 118</span></p><p class="c1"><span class="c7 c4"></span></p><p class="c3"><span class="c7 c4">{&quot;start&quot;: &quot;2022-01-19T00:16:01.059Z&quot;, &quot;stop&quot;: &quot;2024-01-19T00:16:01.059Z&quot;, &quot;predicate&quot;: &quot;_measurement=\&quot;coordinates\&quot;&quot;}</span></p><p class="c1"><span class="c0"></span></p><p class="c1"><span class="c0"></span></p><hr><p class="c1"><span class="c0"></span></p><p class="c1"><span class="c0"></span></p><h2 class="c18" id="h.p48t1pk68f45"><span class="c20">Messaggi di errore</span></h2><p class="c3"><span class="c0">In caso di errore il messaggio che viene specificato &egrave; scritto in formato JSON, con la seguente forma:</span></p><p class="c1"><span class="c0"></span></p><p class="c3"><span class="c7 c4">{</span></p><p class="c3"><span class="c7 c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;success&quot;: false,</span></p><p class="c3"><span class="c7 c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;error&quot;: &quot;MESSAGGIO DI ERRORE&quot;</span></p><p class="c3"><span class="c7 c4">}</span></p><hr class="c11"><div><p class="c6 c22"><a href="#ftnt_ref1" id="ftnt1">[1]</a><span class="c19">Influxdb richiede la precisione del timing di una serie temporale di dati</span></p></div></body></html>